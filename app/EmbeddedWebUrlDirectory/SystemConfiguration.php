<?php  declare(strict_types=1);namespace App\EmbeddedWebUrlDirectory;use Mishusoft\Http;use Mishusoft\Storage\Uploader;use ZipArchive;class SystemConfiguration{public function __construct(){}public function install(array $request):void{if(file_get_contents('php://input')!==''){System::checkSystemRequirements();System::communicate();exit();}Firewall::runtimeFailure('Not Found',['debug'=>['file'=>ucfirst($request['controller']),'location'=>Http::browser()::getVisitedPage(),'description'=>'Your requested url not found!!',],'error'=>['description'=>'Your requested url not found!!'],]);}public function update(array $request):void{if(array_key_exists('update',$_FILES)===true){$uploader=new Uploader($_FILES['update']);if(!$uploader->file_temp_name){echo 'Please browse for a file before clicking upload button.';exit();}if($uploader->err_message===1){echo"Fetching error to upload $uploader->file_name.";exit();}if($uploader->file_type!=='application/zip'){echo 'Please select a zip (.zip) file before clicking upload button.';exit();}if(file_exists(APPLICATION_SYSTEM_TEMP_PATH.$uploader->file_name)){echo"$uploader->file_name already exists.";exit();}if(move_uploaded_file($uploader->file_temp_name,APPLICATION_SYSTEM_TEMP_PATH.$uploader->file_name)){$filename=strtoupper(str_replace('-',' ',pathinfo($uploader->file_name,PATHINFO_FILENAME)));$zip=new ZipArchive();if($zip->open(APPLICATION_SYSTEM_TEMP_PATH.$uploader->file_name)===true){$zip->extractTo(RUNTIME_ROOT_PATH);$zip->close();unlink(APPLICATION_SYSTEM_TEMP_PATH.$uploader->file_name);echo"$filename successfully installed on ".System::getAbsoluteInstalledURL();}else{echo"$filename installation failed on ".System::getAbsoluteInstalledURL();}}else{echo pathinfo($uploader->file_name,PATHINFO_BASENAME).' upload failed.';}exit();}Firewall::runtimeFailure('Not Found',['debug'=>['file'=>ucfirst($request['controller']),'location'=>Http::browser()::getVisitedPage(),'description'=>'Your requested url not found!!',],'error'=>['description'=>'Your requested url not found!!'],]);}}