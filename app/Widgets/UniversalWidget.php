<?php
 namespace App\Widgets;use DOMElement;use DOMNode;use Mishusoft\Http;use Mishusoft\Storage;use Mishusoft\Ui;use Mishusoft\Libraries\Runtime;use Mishusoft\Utility\ArrayCollection;class UniversalWidget{private DOMElement $htmlBody;public function __construct(DOMElement $bodyElement){$this->htmlBody=$bodyElement;}public function breadcrumb():DOMElement|DOMNode{$breadcrumb=Ui::element($this->htmlBody,'breadcrumb',['class'=>'box-shadow1','style'=>'border-top:1px solid lightgrey;']);Ui::element(Ui::element($breadcrumb,'a',['class'=>'protect','href'=>Runtime::link('default_home')]),'img',['src'=>FRAMEWORK_FAVICON_FILE,'alt'=>'mishusoft','class'=>'box-shadow1','style'=>'margin: 5px;text-align: center;width: 20px;height: 20px;float: left;border-radius: 50%;transition: all .15s ease;','width'=>'20px','height'=>'20px',]);$urlPath=Http::browser()->getURLPath();$webRoot=Storage::applicationWebDirectivePath();if(str_starts_with($urlPath,$webRoot)){$urlPath=substr($urlPath,strlen($webRoot));}$urlList=explode('/',$urlPath);$urlList=array_filter($urlList);$urlList=array_values($urlList);foreach($urlList as $id=>$url){Ui::text($breadcrumb,'/');Ui::element($breadcrumb,'a',['href'=>Runtime::link(implode('/',ArrayCollection::getValues(array_search($url,$urlList),$urlList))),'text'=>$url,]);}return $breadcrumb;}}