class MishusoftAi extends Mishusoft {
    constructor() {
        super(), MishusoftSessionValidity && (this.viewMainItemsTabs(), this.viewExtraItemsTabs(), this.viewVisitorsAccessLogs())
    }

    updateDATA() {
        let e = this;
        this.dataInterval = setInterval(function () {
            e.viewMainItemsTabs(), e.viewExtraItemsTabs(), e.viewVisitorsAccessLogs(), console.clear()
        }, 5e3)
    }

    viewVisitorsAccessLogs() {
        let e = new XMLHttpRequest;
        e.open("POST", _root_ + "api/getVisitorsAccessLogs", !0), e.setRequestHeader("Access-Control-Allow-Origin", "*"), e.send(), e.onreadystatechange = function () {
            if (4 === this.readyState && 200 === this.status) {
                if (0 !== this.responseText.length) {
                    let e = JSON.parse(this.responseText), t = Mishusoft.detectElementById("VAL_div"), s = "";
                    if (0 !== e.length) for (let n = 0; n < e.length; n++) {
                        let i = e[n].author, d = e[n].ip, a = e[n].browser, o = e[n].message_type, l = e[n].message,
                            u = e[n].page, r = e[n].time, c = "", m = "";
                        "error" !== o && "Error" !== o && "ERROR" !== o || (c += "danger", m += '<i class="far fa-times-circle"></i>'), "success" !== o && "Success" !== o && "SUCCESS" !== o || (c += "success", m += '<i class="far fa-check-circle"></i>'), "notify" !== o && "Notify" !== o && "NOTIFY" !== o || (c += "notify", m += '<i class="fas fa-info-circle"></i>'), s += '<div class="box-message box-' + c + ' box-shadow-light" style="padding: 0;">', s += '<span class="notify-icon">' + m + "</span>&nbsp;", s += '<span class="notify-md-content"><a href="http://' + d + '">' + i + "</a>&nbsp; >> ", s += '<a href="' + u + '" title="[' + d + "]&nbsp;[" + a + "]&nbsp;[" + r + ']&nbsp;">' + l + "</a></span>", s += "</div>", t && (t.innerHTML = s)
                    } else s += '<div class="box-message box-danger box-shadow-light">', s += '<span class="notify-icon"><i class="far fa-times-circle"></i></span>&nbsp;', s += '<span class="notify-md-content">No notification found in database.</span>', s += "</div>", t && (t.innerHTML = s)
                }
            }
        }
    }

    verifyUSER_AUTH() {
        let e = {
            security_code: 1,
            username: Mishusoft.detectElementById("username").value,
            password: Mishusoft.detectElementById("password").value,
            redirectURL: Mishusoft.detectElementById("redirect").value,
            RememberMe: Mishusoft.detectElementById("RememberMe").value,
            btnName: Mishusoft.detectElementById("login-button").textContent
        }, t = new XMLHttpRequest;
        t.open("POST", _root_ + "user/verifyUserAuth", !0), t.setRequestHeader("Content-type", "application/json;charset=UTF-8"), t.send(JSON.stringify(e)), t.onreadystatechange = function () {
            if (4 === this.readyState && 200 === this.status) if (Mishusoft.IsJsonString(this.responseText)) {
                let e = JSON.parse(this.responseText);
                "success" === e.type && "LOGGED_IN" === e.message ? "/" !== e.url ? window.location.replace(_root_ + e.url) : window.location.replace(_root_) : (Mishusoft.detectElementById("login-button").removeAttribute("disabled"), Mishusoft.detectElementById("username").removeAttribute("disabled"), Mishusoft.detectElementById("password").removeAttribute("disabled"), Mishusoft.showMessage(this.responseText, Mishusoft.detectElementById("messageZone")))
            } else swal("Oop! Somthing went wrong!", this.responseText, "error")
        }
    }

    saveBranch() {
        let e = "";
        e = "Save" === Mishusoft.detectElementById("branch-data-btn").innerHTML ? {
            security_code: 1,
            name: Mishusoft.detectElementById("branchName").value,
            status: Mishusoft.detectElementById("branchStatus").value,
            location: Mishusoft.detectElementById("branchLocation").value,
            btnName: Mishusoft.detectElementById("branch-data-btn").innerHTML
        } : {
            security_code: 1,
            id: Mishusoft.detectElementById("branchID").value,
            name: Mishusoft.detectElementById("branchName").value,
            status: Mishusoft.detectElementById("branchStatus").value,
            location: Mishusoft.detectElementById("branchLocation").value,
            btnName: Mishusoft.detectElementById("branch-data-btn").innerHTML
        };
        let t = new XMLHttpRequest;
        t.open("POST", _root_ + "system/branches/addBranch", !0), t.setRequestHeader("Content-type", "application/json;charset=UTF-8"), t.send(JSON.stringify(e)), t.onreadystatechange = function () {
            4 === this.readyState && 200 === this.status && Mishusoft.showMessage(this.responseText, Mishusoft.detectElementById("message2"))
        }
    }

    viewMainItemsTabs() {
        let e = new XMLHttpRequest;
        e.open("POST", _root_ + "system/index/getMainItemTabs", !0), e.setRequestHeader("Access-Control-Allow-Origin", "*"), e.onreadystatechange = function () {
            if (4 === this.readyState && 200 === this.status && Mishusoft.IsJsonString(this.responseText)) {
                let e = JSON.parse(this.responseText), t = Mishusoft.detectElementById("MIT_div"), s = "";
                if (0 !== e.length) for (let n = 0; n < e.length; n++) {
                    let i = e[n].name, d = e[n].title, a = e[n].icon, o = e[n].url;
                    s += '<a href="' + _root_ + "system/" + o + '" class="thumbnail-md box-shadow-light" title="' + d + '">', s += '<div class="thumbnail-image"><i class="' + a + '"></i></div>', s += '<div class="thumbnail-text">' + i + "</div>", s += "</a>", t && (t.innerHTML = s)
                } else s += '<div class="thumbnail-md box-shadow-light" style="padding: 45px 25px;">', s += "No tool exists.", s += "</div>", t && (t.innerHTML = s)
            }
        }, e.send()
    }

    viewExtraItemsTabs() {
        let e = new XMLHttpRequest;
        e.open("POST", _root_ + "system/index/getExtraItemTabs", !0), e.setRequestHeader("Access-Control-Allow-Origin", "*"), e.onreadystatechange = function () {
            if (4 === this.readyState && 200 === this.status && Mishusoft.IsJsonString(this.responseText)) {
                let e = JSON.parse(this.responseText), t = Mishusoft.detectElementById("EIT_div"), s = "";
                if (0 !== e.length) for (let n = 0; n < e.length; n++) {
                    let i = e[n].name, d = e[n].title, a = e[n].icon, o = e[n].url;
                    s += '<a href="' + _root_ + "system/" + o + '" class="thumbnail-md box-shadow-light" title="' + d + '">', s += '<div class="thumbnail-image"><i class="' + a + '"></i></div>', s += '<div class="thumbnail-text">' + i + "</div>", s += "</a>", t && (t.innerHTML = s)
                } else s += '<div class="thumbnail-md box-shadow-light" style="padding: 45px 25px;">', s += "No tool exists.", s += "</div>", t && (t.innerHTML = s)
            }
        }, e.send()
    }

    saveMenu() {
        let e = "";
        e = "Save" === Mishusoft.detectElementById("menu-data-btn").innerHTML ? {
            security_code: 1,
            parentID: Mishusoft.detectElementById("menuParentID").value,
            title: Mishusoft.detectElementById("menuTitle").value,
            url: Mishusoft.detectElementById("menuURL").value,
            icon: Mishusoft.detectElementById("menuIcon").value,
            position: Mishusoft.detectElementById("menuPosition").value,
            permission: Mishusoft.detectElementById("menuPermission").value,
            btnName: Mishusoft.detectElementById("menu-data-btn").innerHTML
        } : {
            security_code: 1,
            id: Mishusoft.detectElementById("menuID").value,
            parentID: Mishusoft.detectElementById("menuParentID").value,
            title: Mishusoft.detectElementById("menuTitle").value,
            url: Mishusoft.detectElementById("menuURL").value,
            icon: Mishusoft.detectElementById("menuIcon").value,
            position: Mishusoft.detectElementById("menuPosition").value,
            permission: Mishusoft.detectElementById("menuPermission").value,
            btnName: Mishusoft.detectElementById("menu-data-btn").innerHTML
        };
        let t = new XMLHttpRequest;
        t.open("POST", _root_ + "system/menus/addMenu", !0), t.setRequestHeader("Content-type", "application/json;charset=UTF-8"), t.send(JSON.stringify(e)), t.onreadystatechange = function () {
            4 === this.readyState && 200 === this.status && Mishusoft.showMessage(this.responseText, Mishusoft.detectElementById("message2"))
        }
    }

    savePermission() {
        let e = "";
        e = "Save" === Mishusoft.detectElementById("permission-data-btn").innerHTML ? {
            security_code: 1,
            name: Mishusoft.detectElementById("permissionName").value,
            key: Mishusoft.detectElementById("permissionKey").value,
            PKID: Mishusoft.detectElementById("permissionPKID").value,
            btnName: Mishusoft.detectElementById("permission-data-btn").innerHTML
        } : {
            security_code: 1,
            id: Mishusoft.detectElementById("permissionID").value,
            name: Mishusoft.detectElementById("permissionName").value,
            key: Mishusoft.detectElementById("permissionKey").value,
            PKID: Mishusoft.detectElementById("permissionPKID").value,
            btnName: Mishusoft.detectElementById("permission-data-btn").innerHTML
        };
        let t = new XMLHttpRequest;
        t.open("POST", _root_ + "system/permissions/addPermission", !0), t.setRequestHeader("Content-type", "application/json;charset=UTF-8"), t.send(JSON.stringify(e)), t.onreadystatechange = function () {
            4 === this.readyState && 200 === this.status && Mishusoft.showMessage(this.responseText, Mishusoft.detectElementById("message2"))
        }
    }

    saveRole() {
        let e = "";
        e = "Save" === Mishusoft.detectElementById("role-data-btn").innerHTML ? {
            security_code: 1,
            name: Mishusoft.detectElementById("roleName").value,
            btnName: Mishusoft.detectElementById("role-data-btn").innerHTML
        } : {
            security_code: 1,
            id: Mishusoft.detectElementById("roleID").value,
            name: Mishusoft.detectElementById("roleName").value,
            btnName: Mishusoft.detectElementById("role-data-btn").innerHTML
        };
        let t = new XMLHttpRequest;
        t.open("POST", _root_ + "system/roles/addRole", !0), t.setRequestHeader("Content-type", "application/json;charset=UTF-8"), t.send(JSON.stringify(e)), t.onreadystatechange = function () {
            4 === this.readyState && 200 === this.status && Mishusoft.showMessage(this.responseText, Mishusoft.detectElementById("message2"))
        }
    }

    updateRolePermission() {
        let e = {
            security_code: 1,
            role: $(this).attr("data-roleid"),
            permission: $(this).attr("data-permissionid"),
            value: $(this).attr("data-value")
        }, t = new XMLHttpRequest;
        t.open("POST", _root_ + "system/roles/updateRolePermission", !0), t.setRequestHeader("Content-type", "application/json;charset=UTF-8"), t.send(JSON.stringify(e)), t.onreadystatechange = function () {
            4 === this.readyState && 200 === this.status && Mishusoft.showMessage(this.responseText, Mishusoft.detectElementById("message"))
        }
    }

    verifyIsUserAlreadyExists() {
        let e = {security_code: 1, user: Mishusoft.detectElementById("userDetailsID").value}, t = new XMLHttpRequest;
        t.open("POST", _root_ + "system/users/isUserCreatedCheckedByUserId", !0), t.setRequestHeader("Content-type", "application/json;charset=UTF-8"), t.send(JSON.stringify(e)), t.onreadystatechange = function () {
            if (4 === this.readyState && 200 === this.status) if (Mishusoft.IsJsonString(this.responseText)) {
                let e = JSON.parse(this.responseText);
                if (0 !== e.length) for (let t = 0; t < e.length; t++) {
                    "yes" === e[t].status && (Mishusoft.detectElementById("message3").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "none", SystemManager.UploadWindowView("Upload profile picture"))
                }
            } else alert(this.responseText)
        }
    }

    UploadWindowView(e) {
        Mishusoft.detectElementById("modal02").style.display = "block", Mishusoft.detectElementById("imageFile").src = "", Mishusoft.detectElementById("UploadStatusBoard").style.display = "none", Mishusoft.detectElementById("userProfilePictureUploadMode").innerHTML = e, Mishusoft.detectElementById("user-picture-data-btn").innerHTML = "Close"
    }

    saveUser() {
        let e = "";
        e = "Save" === Mishusoft.detectElementById("user-data-btn").innerHTML ? {
            security_code: 1,
            FName: Mishusoft.detectElementById("userFName").value,
            LName: Mishusoft.detectElementById("userLName").value,
            email: Mishusoft.detectElementById("userEmail").value,
            password: Mishusoft.detectElementById("userPassword").value,
            username: Mishusoft.detectElementById("userUsername").value,
            activity: Mishusoft.detectElementById("userActivity").value,
            role: Mishusoft.detectElementById("userRole").value,
            dateOfBirth: Mishusoft.detectElementById("userDateOfBirth").value,
            gender: Mishusoft.detectElementById("userGender").value,
            profession: Mishusoft.detectElementById("userProfession").value,
            btnName: Mishusoft.detectElementById("user-data-btn").innerHTML
        } : {
            security_code: 1,
            id: Mishusoft.detectElementById("userID").value,
            FName: Mishusoft.detectElementById("userFName").value,
            LName: Mishusoft.detectElementById("userLName").value,
            email: Mishusoft.detectElementById("userEmail").value,
            password: Mishusoft.detectElementById("userPassword").value,
            username: Mishusoft.detectElementById("userUsername").value,
            activity: Mishusoft.detectElementById("userActivity").value,
            role: Mishusoft.detectElementById("userRole").value,
            dateOfBirth: Mishusoft.detectElementById("userDateOfBirth").value,
            gender: Mishusoft.detectElementById("userGender").value,
            profession: Mishusoft.detectElementById("userProfession").value,
            btnName: Mishusoft.detectElementById("user-data-btn").innerHTML
        };
        let t = new XMLHttpRequest;
        t.open("POST", _root_ + "system/users/addUser", !0), t.setRequestHeader("Content-type", "application/json;charset=UTF-8"), t.send(JSON.stringify(e)), t.onreadystatechange = function () {
            if (4 === this.readyState && 200 === this.status) if (Mishusoft.showMessage(this.responseText, Mishusoft.detectElementById("message2"), function (e) {
                for (let t = 0; t < e.length; t++) ;
                Mishusoft.detectElementById("userDetailsID").value = e.user, AIapp.verifyIsUserAlreadyExists()
            }), Mishusoft.IsJsonString(this.responseText)) {
                let e = JSON.parse(this.responseText), t = "", s = Mishusoft.detectElementById("message2");
                for (let n = 0; n < e.length; n++) {
                    e[n].user;
                    let i = e[n].type, d = e[n].message, a = "", o = "";
                    "error" === i && (a += "danger", o += "&times;"), "success" === i && (a += "success", o += "&radic;"), t += '<div class="box-message box-' + a + ' box-shadow-light">', t += '<span class="box-' + a + '-symbol">' + o + "</span>", t += "&nbsp;&nbsp;" + d, t += "</div>", s && (s.innerHTML = t)
                }
            } else alert(this.responseText)
        }
    }

    deleteUser() {
        let e = {security_code: 1, id: $(this).attr("data-userID")}, t = new XMLHttpRequest;
        t.open("POST", _root_ + "system/users/deleteUser", !0), t.setRequestHeader("Content-type", "application/json;charset=UTF-8"), t.send(JSON.stringify(e)), t.onreadystatechange = function () {
            4 === this.readyState && 200 === this.status && Mishusoft.showMessage(this.responseText, Mishusoft.detectElementById("message"))
        }
    }
}

let AIapp = new MishusoftAi;

function pay(e, t, s, n) {
    Mishusoft.detectElementById("app-loader").style.display = "block";
    let i = {method: {}, currency: {}};
    switch (document.querySelector(".pay-option-item.active-method").id) {
        case"pay-with-card":
            return i.method = "card", i.currency = "usd", void paymentConfirm(e, i, t, s, n);
        case"pay-with-ideal":
            return i.method = "ideal", i.currency = "eur", void paymentConfirm(e, i, t, s, n);
        default:
            Mishusoft.detectElementById("messageBoard").style.display = "block", Mishusoft.detectElementById("messageBoard").textContent = "", Mishusoft.detectElementById("messageBoard").classList = "messageBoard ev_error", Mishusoft.detectElementById("messageBoard").innerHTML += "Error: no payment method selected!!<br/>", setTimeout(function () {
                Mishusoft.detectElementById("messageBoard").style.display = "none"
            }, 3e3)
    }
}

function paymentConfirm(e, t, s, n, i) {
    pFetch(_root_ + "payment/getPaymentToken", {
        methodObject: t,
        amountObject: i,
        description: document.getElementById("order-description").value,
        receiptEmail: document.getElementById("client-email").value
    }).then(d => {
        /*console.log(d), */Mishusoft.detectElementById("messageBoard").style.display = "block", Mishusoft.detectElementById("messageBoard").previousElementSibling.remove(), "success" === d.type ? ("card" === t.method ? e.confirmCardPayment(d.client_secret, {
            payment_method: {
                card: s.card,
                billing_details: {name: n.client.fullName}
            }, receipt_email: n.client.emailAddress
        }).then(function (e) {
            e.error ? (Mishusoft.detectElementById("messageBoard").textContent = "", Mishusoft.detectElementById("messageBoard").classList = "messageBoard ev_error", Mishusoft.detectElementById("messageBoard").innerHTML += e.error.message + "<br/>", Mishusoft.detectElementById("app-loader").style.display = "none") : "succeeded" === e.paymentIntent.status && console.log(e) && paymentCompleted(i, n.client.id, n.app.id, d.client_secret)
        }) : "ideal" === t.method ? e.confirmIdealPayment(d.client_secret, {
            payment_method: {
                ideal: s.idealBank,
                billing_details: {name: n.client.fullName}
            }, return_url: window.location.href
        }).then(function (e) {
            e.error ? (Mishusoft.detectElementById("messageBoard").textContent = "", Mishusoft.detectElementById("messageBoard").classList = "messageBoard ev_error", Mishusoft.detectElementById("messageBoard").innerHTML += e.error.message + "<br/>", Mishusoft.detectElementById("app-loader").style.display = "none") : "succeeded" === e.paymentIntent.status && paymentCompleted(i, n.client.id, n.app.id, d.client_secret)
        }) : (Mishusoft.detectElementById("messageBoard").style.display = "block", Mishusoft.detectElementById("messageBoard").textContent = "", Mishusoft.detectElementById("messageBoard").classList = "messageBoard ev_error", Mishusoft.detectElementById("messageBoard").innerHTML += "Error: no payment method selected!!<br/>", setTimeout(function () {
            Mishusoft.detectElementById("messageBoard").style.display = "none"
        }, 3e3)), Mishusoft.detectElementById("messageBoard").textContent = "", Mishusoft.detectElementById("messageBoard").classList = "messageBoard ev_" + d.type, Mishusoft.detectElementById("messageBoard").innerHTML += d.message + "<br/>") : "error" === d.type ? ("block" === Mishusoft.detectElementById("app-loader").style.display && (Mishusoft.detectElementById("app-loader").style.display = "none"), Mishusoft.detectElementById("messageBoard").textContent = "", Mishusoft.detectElementById("messageBoard").classList = "messageBoard ev_" + d.type, Mishusoft.detectElementById("messageBoard").innerHTML += d.message + "<br/>") : ("block" === Mishusoft.detectElementById("app-loader").style.display && (Mishusoft.detectElementById("app-loader").style.display = "none"), Mishusoft.detectElementById("messageBoard").textContent = "", Mishusoft.detectElementById("messageBoard").classList = "messageBoard ev_error", Mishusoft.detectElementById("messageBoard").innerHTML += "Invalid request!!<br/>")
    })
}

function paymentCompleted(e, t, s, n) {
    pFetch(_root_ + "payment/paymentCompletion", {
        security_code: 1,
        amountObject: e,
        clientId: t,
        appId: s,
        paymentToken: n
    }).then(e => {
        Mishusoft.showMessage(JSON.stringify(e), Mishusoft.detectElementById("messagePanel"), function (e) {
            "success" === e.type ? (window.postMessage({type: 'mishusoft-payment-confirm', payload: {licence: e.licence}}, '*'), console.log('licence sent'),Mishusoft.detectElementById("messageBoard").textContent = "", Mishusoft.detectElementById("messageBoard").classList = "messageBoard ev_success", Mishusoft.detectElementById("messageBoard").innerHTML += "Payment completed!!<br/>", Mishusoft.detectElementById("app-loader").style.display = "none") : (Mishusoft.detectElementById("messageBoard").textContent = "", Mishusoft.detectElementById("messageBoard").classList = "messageBoard ev_success", Mishusoft.detectElementById("messageBoard").innerHTML += e.message + "!!<br/>", Mishusoft.detectElementById("app-loader").style.display = "none")
        })
    })
}

function showElement(e) {
    document.querySelector(e).classList.remove("hidden")
}

function hideElement(e) {
    document.querySelector(e).classList.add("hidden")
}

$("#userNotificationsAll").on("click", ".page", function () {
    Mishusoft.pagination($(this).attr("page"), "user/activitiesPaginationAJAX", "notificationsAll")
}), $("#LogInForm").on("submit", function (e) {
    e.preventDefault();
    let t = Mishusoft.detectElementById("messageZone");
    if (null === t.firstElementChild) {
        let e = document.createElement("div");
        t.appendChild(e)
    }
    t.firstElementChild.className = "", t.firstElementChild.style = "color: lightseagreen;background-color: rgb(217, 242, 244);font-size: 17px;text-align: left;margin-top: 0;margin-bottom: 10px;padding: 10px 10px;width: 100%;display: inline-block;text-align: center;border: none;border-left-color: currentcolor;border-left-style: none;border-left-width: medium;-webkit-border-radius: 5px;border-radius: 5px;\n-webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n-moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\nbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);", Mishusoft.detectElementById("login-button").setAttribute("disabled", "disabled"), Mishusoft.detectElementById("username").setAttribute("disabled", "disabled"), Mishusoft.detectElementById("password").setAttribute("disabled", "disabled"), t.firstElementChild.textContent = "Please wait......", AIapp.verifyUSER_AUTH()
}), $("#registrationForm").on("keyup", "#email", function () {
    let e = _root_ + "user/checkValidEmailAddress", t = Mishusoft.detectElementById("email"),
        s = Mishusoft.detectElementById("messageZone");
    return Mishusoft.checkValidEmailAddress(e, t, s)
}), $("#branch-data-table").on("click", ".page", function () {
    Mishusoft.pagination($(this).attr("page"), "system/branches/indexPaginationAJAX", "branch-data-table")
}), $("#busers-data-table").on("click", ".page", function () {
    Mishusoft.pagination($(this).attr("page"), "system/branches/usersPaginationAJAX", "busers-data-table")
}), Mishusoft.detectElementById("branchEditMode") && (Mishusoft.detectElementById("branchEditMode").innerHTML = "New", Mishusoft.detectElementById("branch-data-btn").innerHTML = "Save", Mishusoft.detectElementById("branch-reset-btn").innerHTML = "Reset"), $(document).on("keyup", "#branchName", function () {
    let e = _root_ + "system/branches/checkBranchNameInputAbility", t = Mishusoft.detectElementById("branchName").value,
        s = Mishusoft.detectElementById("message2");
    return Mishusoft.checkInputDataAbility(e, t, s)
}), $(document).on("click", "#branch-data-btn", AIapp.saveBranch), $(document).on("click", "#branch-reset-btn", function () {
    Mishusoft.detectElementById("branchID").value = "", Mishusoft.detectElementById("branchName").value = "", Mishusoft.detectElementById("branchStatus").value = "", Mishusoft.detectElementById("branchLocation").value = ""
}), $(document).on("click", "#branch-add-btn", function () {
    Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("branchEditMode").innerHTML = "New", Mishusoft.detectElementById("branch-data-btn").innerHTML = "Save", Mishusoft.detectElementById("branchID").value = "", Mishusoft.detectElementById("branchName").value = "", Mishusoft.detectElementById("branchStatus").value = "", Mishusoft.detectElementById("branchLocation").value = ""
}), $(document).on("click", "#branch-select", function () {
    this.checked && (Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("branchEditMode").innerHTML = "Edit", Mishusoft.detectElementById("branch-data-btn").innerHTML = "Update", Mishusoft.detectElementById("branchID").value = $(this).attr("data-id"), Mishusoft.detectElementById("branchName").value = $(this).attr("data-name"), Mishusoft.detectElementById("branchStatus").value = $(this).attr("data-status"), Mishusoft.detectElementById("branchLocation").value = $(this).attr("data-location"))
}), $(document).on("click", "#branch-edit-btn", function () {
    Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("branchEditMode").innerHTML = "Edit", Mishusoft.detectElementById("branch-data-btn").innerHTML = "Update", Mishusoft.detectElementById("branchID").value = $(this).attr("data-id"), Mishusoft.detectElementById("branchName").value = $(this).attr("data-name"), Mishusoft.detectElementById("branchStatus").value = $(this).attr("data-status"), Mishusoft.detectElementById("branchLocation").value = $(this).attr("data-location")
}), $(document).on("click", "#branch-delete-btn", function () {
    Mishusoft.detectElementById("PopUpDialogBox").style.display = "block", Mishusoft.detectElementById("PopUpDialogBoxTitle").innerHTML = "Message", Mishusoft.detectElementById("message3").innerHTML = '<div style="font-size:15px;">Are you want to delete this?</div>', Mishusoft.detectElementById("message-done-btn").innerHTML = "Delete";
    let e = $(this).attr("data-id"), t = Mishusoft.detectElementById("message-done-btn").innerHTML;
    $(document).on("click", "#message-done-btn", function () {
        if ("Delete" === t) {
            let t = {security_code: 1, id: e}, s = new XMLHttpRequest;
            s.open("POST", _root_ + "system/branches/deleteBranch", !0), s.setRequestHeader("Content-type", "application/json;charset=UTF-8"), s.send(JSON.stringify(t)), s.onreadystatechange = function () {
                4 === this.readyState && 200 === this.status && Mishusoft.showMessage(this.responseText, Mishusoft.detectElementById("message"))
            }
        }
        Mishusoft.detectElementById("PopUpDialogBox").style.display = "none"
    })
}), $(document).on("click", "#transferBranchStuff", function () {
    Mishusoft.detectElementById("PopUpDialogBox").style.display = "block", Mishusoft.detectElementById("PopUpDialogBoxTitle").innerHTML = "Message", Mishusoft.detectElementById("message3").innerHTML = '<div style="font-size:15px;">Are you want to change this?</div>', Mishusoft.detectElementById("message-done-btn").innerHTML = "Change";
    let e = Mishusoft.detectElementById("message-done-btn").innerHTML, t = $(this).attr("data-user"),
        s = $(this).attr("data-branch"), n = $(this).attr("data-method");
    $(document).on("click", "#message-done-btn", function () {
        if ("Change" === e) {
            let e = {security_code: 1, user: t, branch: s, method: n}, i = new XMLHttpRequest;
            i.open("POST", _root_ + "system/branches/transferBranchStuff", !0), i.setRequestHeader("Content-type", "application/json;charset=UTF-8"), i.send(JSON.stringify(e)), i.onreadystatechange = function () {
                4 === this.readyState && 200 === this.status && Mishusoft.showMessage(this.responseText, Mishusoft.detectElementById("message"))
            }
        }
        Mishusoft.detectElementById("PopUpDialogBox").style.display = "none"
    })
}), $("#menus-data-table").on("click", ".page", function () {
    Mishusoft.pagination($(this).attr("page"), "system/menus/indexPaginationAJAX", "menus-data-table")
}), Mishusoft.detectElementById("menuEditMode") && (Mishusoft.detectElementById("menuEditMode").innerHTML = "New", Mishusoft.detectElementById("menu-data-btn").innerHTML = "Save", Mishusoft.detectElementById("menu-reset-btn").innerHTML = "Reset"), $(document).on("keyup", "#menuTitle", function () {
    let e = _root_ + "system/menus/checkMenuTitleInputAbility", t = Mishusoft.detectElementById("menuTitle").value,
        s = Mishusoft.detectElementById("message2");
    return Mishusoft.checkInputDataAbility(e, t, s)
}), $(document).on("keyup", "#menuIcon", function () {
    let e = Mishusoft.detectElementById("menuIcon").value;
    Mishusoft.detectElementById("previewIcon").setAttribute("class", e), Mishusoft.detectElementById("previewIconName").textContent = e
}), $(document).on("click", "#menu-data-btn", AIapp.saveMenu), $(document).on("click", "#menu-reset-btn", function () {
    Mishusoft.detectElementById("menuID").value = "", Mishusoft.detectElementById("menuParentID").value = "", Mishusoft.detectElementById("menuTitle").value = "", Mishusoft.detectElementById("menuURL").value = "", Mishusoft.detectElementById("menuIcon").value = "", Mishusoft.detectElementById("menuPosition").value = "", Mishusoft.detectElementById("menuPermission").value = ""
}), $(document).on("click", "#menu-add-btn", function () {
    Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("menuEditMode").innerHTML = "New", Mishusoft.detectElementById("menu-data-btn").innerHTML = "Save", Mishusoft.detectElementById("menuID").value = "", Mishusoft.detectElementById("menuParentID").value = "", Mishusoft.detectElementById("menuTitle").value = "", Mishusoft.detectElementById("menuURL").value = "", Mishusoft.detectElementById("menuIcon").value = "", Mishusoft.detectElementById("menuPosition").value = "", Mishusoft.detectElementById("menuPermission").value = ""
}), $(document).on("click", "#menu-select", function () {
    this.checked && (Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("menuEditMode").innerHTML = "Edit", Mishusoft.detectElementById("menu-data-btn").innerHTML = "Update", Mishusoft.detectElementById("menuID").value = $(this).attr("data-id"), Mishusoft.detectElementById("menuParentID").value = $(this).attr("data-parentid"), Mishusoft.detectElementById("menuTitle").value = $(this).attr("data-title"), Mishusoft.detectElementById("menuURL").value = $(this).attr("data-url"), Mishusoft.detectElementById("menuIcon").value = $(this).attr("data-icon"), Mishusoft.detectElementById("menuPosition").value = $(this).attr("data-position"), Mishusoft.detectElementById("menuPermission").value = $(this).attr("data-permission"))
}), $(document).on("click", "#menu-edit-btn", function () {
    Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("menuEditMode").innerHTML = "Edit", Mishusoft.detectElementById("menu-data-btn").innerHTML = "Update", Mishusoft.detectElementById("menuID").value = $(this).attr("data-id"), Mishusoft.detectElementById("menuParentID").value = $(this).attr("data-parentid"), Mishusoft.detectElementById("menuTitle").value = $(this).attr("data-title"), Mishusoft.detectElementById("menuURL").value = $(this).attr("data-url"), Mishusoft.detectElementById("menuIcon").value = $(this).attr("data-icon"), Mishusoft.detectElementById("menuPosition").value = $(this).attr("data-position"), Mishusoft.detectElementById("menuPermission").value = $(this).attr("data-permission")
}), $(document).on("click", "#menu-delete-btn", function () {
    Mishusoft.detectElementById("PopUpDialogBox").style.display = "block", Mishusoft.detectElementById("PopUpDialogBoxTitle").innerHTML = "Message", Mishusoft.detectElementById("message3").innerHTML = '<div style="font-size:15px;">Are you want to delete this?</div>', Mishusoft.detectElementById("message-done-btn").innerHTML = "Delete";
    let e = $(this).attr("data-id"), t = Mishusoft.detectElementById("message-done-btn").innerHTML;
    $(document).on("click", "#message-done-btn", function () {
        if ("Delete" === t) {
            let t = {security_code: 1, id: e}, s = new XMLHttpRequest;
            s.open("POST", _root_ + "system/menus/deleteMenu", !0), s.setRequestHeader("Content-type", "application/json;charset=UTF-8"), s.send(JSON.stringify(t)), s.onreadystatechange = function () {
                4 === this.readyState && 200 === this.status && Mishusoft.showMessage(this.responseText, Mishusoft.detectElementById("message"))
            }
        }
        Mishusoft.detectElementById("PopUpDialogBox").style.display = "none"
    })
}), $("#modules-data-table").on("click", ".page", function () {
    Mishusoft.pagination($(this).attr("page"), "system/modules/indexPaginationAJAX", "modules-data-table")
}), Mishusoft.detectElementById("moduleEditMode") && (Mishusoft.detectElementById("moduleEditMode").innerHTML = "New", Mishusoft.detectElementById("module-data-btn").innerHTML = "Save", Mishusoft.detectElementById("module-reset-btn").innerHTML = "Reset"), $(document).on("change", "#moduleFile", function () {
    let e = Mishusoft.detectElementById("moduleFile").files[0];
    Mishusoft.detectElementById("UploadStatusBoard").style.display = "block", Mishusoft.detectElementById("progressbar").style.display = "none", Mishusoft.detectElementById("upload_status").innerHTML = e.name + " selected"
}), $(document).on("click", "#uploadModuleFile", function () {
    Mishusoft.uploadFile("moduleFile", "moduleFile", "system/modules/uploadTARGZ")
}), $(document).on("click", "#module-data-btn", function () {
    Mishusoft.detectElementById("module-data-btn").innerHTML = "Updating..";
    let e = {
        security_code: 1,
        id: Mishusoft.detectElementById("moduleID").value,
        status: Mishusoft.detectElementById("moduleStatus").value,
        btnName: "Update"
    }, t = new XMLHttpRequest;
    t.open("POST", _root_ + "system/modules/updateModule", !0), t.setRequestHeader("Content-type", "application/json;charset=UTF-8"), t.send(JSON.stringify(e)), t.onreadystatechange = function () {
        4 === this.readyState && 200 === this.status && (Mishusoft.detectElementById("module-data-btn").innerHTML = "Update", Mishusoft.showMessage(this.responseText, Mishusoft.detectElementById("message2")))
    }
}), $(document).on("click", "#module-reset-btn", function () {
    Mishusoft.detectElementById("moduleStatus").value = ""
}), $(document).on("click", "#module-add-btn", function () {
    Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("moduleEditMode").innerHTML = "New", Mishusoft.detectElementById("progressbar").style.display = "none", Mishusoft.detectElementById("moduleEditPAD").style.display = "none", Mishusoft.detectElementById("moduleUploadPad").style.display = "block", Mishusoft.detectElementById("upload_status").textContent = "", Mishusoft.detectElementById("loaded_n_total").textContent = ""
}), $(document).on("click", "#module-select", function () {
    this.checked && (Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("moduleUploadPad").style.display = "none", Mishusoft.detectElementById("moduleEditPAD").style.display = "block", Mishusoft.detectElementById("moduleEditMode").innerHTML = "Edit", Mishusoft.detectElementById("module-data-btn").innerHTML = "Update", Mishusoft.detectElementById("moduleID").value = $(this).attr("data-id"), Mishusoft.detectElementById("moduleName").value = $(this).attr("data-name"), Mishusoft.detectElementById("moduleName").setAttribute("disabled", "disabled"), Mishusoft.detectElementById("moduleLocation").value = $(this).attr("data-location"), Mishusoft.detectElementById("moduleLocation").setAttribute("disabled", "disabled"), Mishusoft.detectElementById("moduleStatus").value = $(this).attr("data-status"))
}), $(document).on("click", "#module-edit-btn", function () {
    Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("moduleUploadPad").style.display = "none", Mishusoft.detectElementById("moduleEditPAD").style.display = "block", Mishusoft.detectElementById("moduleEditMode").innerHTML = "Edit", Mishusoft.detectElementById("module-data-btn").innerHTML = "Update", Mishusoft.detectElementById("moduleID").value = $(this).attr("data-id"), Mishusoft.detectElementById("moduleName").value = $(this).attr("data-name"), Mishusoft.detectElementById("moduleName").setAttribute("disabled", "disabled"), Mishusoft.detectElementById("moduleLocation").value = $(this).attr("data-location"), Mishusoft.detectElementById("moduleLocation").setAttribute("disabled", "disabled"), Mishusoft.detectElementById("moduleStatus").value = $(this).attr("data-status")
}), $(document).on("click", "#module-delete-btn", function () {
    Mishusoft.detectElementById("PopUpDialogBox").style.display = "block", Mishusoft.detectElementById("PopUpDialogBoxTitle").innerHTML = "Message", Mishusoft.detectElementById("message3").innerHTML = '<div style="font-size:15px;">Are you want to delete this?</div>', Mishusoft.detectElementById("message-done-btn").innerHTML = "Delete";
    let e = $(this).attr("data-id"), t = Mishusoft.detectElementById("message-done-btn").innerHTML;
    $(document).on("click", "#message-done-btn", function () {
        if ("Delete" === t) {
            let t = {security_code: 1, id: e}, s = new XMLHttpRequest;
            s.open("POST", _root_ + "system/modules/deleteModule", !0), s.setRequestHeader("Content-type", "application/json;charset=UTF-8"), s.send(JSON.stringify(t)), s.onreadystatechange = function () {
                4 === this.readyState && 200 === this.status && Mishusoft.showMessage(this.responseText, Mishusoft.detectElementById("message"))
            }
        }
        Mishusoft.detectElementById("PopUpDialogBox").style.display = "none"
    })
}), $("#permissions-data-table").on("click", ".page", function () {
    Mishusoft.pagination($(this).attr("page"), "system/permissions/indexPaginationAJAX", "permissions-data-table")
}), Mishusoft.detectElementById("permissionEditMode") && (Mishusoft.detectElementById("permissionEditMode").innerHTML = "New", Mishusoft.detectElementById("permission-data-btn").innerHTML = "Save", Mishusoft.detectElementById("permission-reset-btn").innerHTML = "Reset"), $(document).on("click", "#permission-data-btn", AIapp.savePermission), $(document).on("click", "#permission-reset-btn", function () {
    Mishusoft.detectElementById("permissionID").value = "", Mishusoft.detectElementById("permissionName").value = "", Mishusoft.detectElementById("permissionKey").value = "", Mishusoft.detectElementById("permissionPKID").value = ""
}), $(document).on("click", "#permission-add-btn", function () {
    Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("permissionEditMode").innerHTML = "New", Mishusoft.detectElementById("permission-data-btn").innerHTML = "Save", Mishusoft.detectElementById("permissionID").value = "", Mishusoft.detectElementById("permissionName").value = "", Mishusoft.detectElementById("permissionKey").value = "", Mishusoft.detectElementById("permissionPKID").value = ""
}), $(document).on("click", "#permission-select", function () {
    this.checked && (Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("permissionEditMode").innerHTML = "Edit", Mishusoft.detectElementById("permission-data-btn").innerHTML = "Update", Mishusoft.detectElementById("permissionID").value = $(this).attr("data-permissionID"), Mishusoft.detectElementById("permissionName").value = $(this).attr("data-permissionName"), Mishusoft.detectElementById("permissionKey").value = $(this).attr("data-permissionKey"), Mishusoft.detectElementById("permissionPKID").value = $(this).attr("data-permissionPKID"))
}), $(document).on("click", "#permission-edit-btn", function () {
    Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("permissionEditMode").innerHTML = "Edit", Mishusoft.detectElementById("permission-data-btn").innerHTML = "Update", Mishusoft.detectElementById("permissionID").value = $(this).attr("data-permissionID"), Mishusoft.detectElementById("permissionName").value = $(this).attr("data-permissionName"), Mishusoft.detectElementById("permissionKey").value = $(this).attr("data-permissionKey"), Mishusoft.detectElementById("permissionPKID").value = $(this).attr("data-permissionPKID")
}), $(document).on("click", "#permission-delete-btn", function () {
    Mishusoft.detectElementById("PopUpDialogBox").style.display = "block", Mishusoft.detectElementById("PopUpDialogBoxTitle").innerHTML = "Message", Mishusoft.detectElementById("message3").innerHTML = '<div style="font-size:15px;">Are you want to delete this?</div>', Mishusoft.detectElementById("message-done-btn").innerHTML = "Delete";
    let e = $(this).attr("data-permissionID"), t = Mishusoft.detectElementById("message-done-btn").innerHTML;
    $(document).on("click", "#message-done-btn", function () {
        if ("Delete" === t) {
            let t = {security_code: 1, id: e}, s = new XMLHttpRequest;
            s.open("POST", _root_ + "system/permissions/deletePermission", !0), s.setRequestHeader("Content-type", "application/json;charset=UTF-8"), s.send(JSON.stringify(t)), s.onreadystatechange = function () {
                4 === this.readyState && 200 === this.status && Mishusoft.showMessage(this.responseText, Mishusoft.detectElementById("message"))
            }
        }
        Mishusoft.detectElementById("PopUpDialogBox").style.display = "none"
    })
}), $("#roles-data-table").on("click", ".page", function () {
    Mishusoft.pagination($(this).attr("page"), "system/roles/indexPaginationAJAX", "roles-data-table")
}), $("#roles-permissions-data-table").on("click", ".page", function () {
    let e = "system/roles/permissionsPaginationAJAX/" + $("#hidden-role-id").attr("value");
    Mishusoft.pagination($(this).attr("page"), e, "permissions-data-table")
}), Mishusoft.detectElementById("roleEditMode") && (Mishusoft.detectElementById("roleEditMode").innerHTML = "New", Mishusoft.detectElementById("role-data-btn").innerHTML = "Save", Mishusoft.detectElementById("role-reset-btn").innerHTML = "Reset"), $(document).on("click", "#role-data-btn", AIapp.saveRole), $(document).on("click", "#role-reset-btn", function () {
    Mishusoft.detectElementById("roleName").value = ""
}), $(document).on("click", "#role-select", function () {
    this.checked && (Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("roleEditMode").innerHTML = "Edit", Mishusoft.detectElementById("role-data-btn").innerHTML = "Update", Mishusoft.detectElementById("roleID").value = $(this).attr("data-id"), Mishusoft.detectElementById("roleName").value = $(this).attr("data-name"))
}), $(document).on("click", "#role-add-btn", function () {
    Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("roleEditMode").innerHTML = "New", Mishusoft.detectElementById("role-data-btn").innerHTML = "Save", Mishusoft.detectElementById("roleID").value = "", Mishusoft.detectElementById("roleName").value = ""
}), $(document).on("click", "#role-edit-btn", function () {
    Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("roleEditMode").innerHTML = "Edit", Mishusoft.detectElementById("role-data-btn").innerHTML = "Update", Mishusoft.detectElementById("roleID").value = $(this).attr("data-id"), Mishusoft.detectElementById("roleName").value = $(this).attr("data-name")
}), $(document).on("click", "#role-delete-btn", function () {
    Mishusoft.detectElementById("PopUpDialogBox").style.display = "block", Mishusoft.detectElementById("PopUpDialogBoxTitle").innerHTML = "Message", Mishusoft.detectElementById("message3").innerHTML = '<div style="font-size:15px;">Are you want to delete this?</div>', Mishusoft.detectElementById("message-done-btn").innerHTML = "Delete";
    let e = $(this).attr("data-id"), t = Mishusoft.detectElementById("message-done-btn").innerHTML;
    $(document).on("click", "#message-done-btn", function () {
        if ("Delete" === t) {
            let t = {security_code: 1, id: e}, s = new XMLHttpRequest;
            s.open("POST", _root_ + "system/roles/deleteRole", !0), s.setRequestHeader("Content-type", "application/json;charset=UTF-8"), s.send(JSON.stringify(t)), s.onreadystatechange = function () {
                4 === this.readyState && 200 === this.status && Mishusoft.showMessage(this.responseText, Mishusoft.detectElementById("message"))
            }
        }
        Mishusoft.detectElementById("PopUpDialogBox").style.display = "none"
    })
}), $(document).on("click", "#rlprmValue", AIapp.updateRolePermission), $("#users-data-table").on("click", ".page", function () {
    Mishusoft.pagination($(this).attr("page"), "system/users/indexPaginationAJAX", "users-data-table")
}), Mishusoft.detectElementById("userEditMode") && (Mishusoft.detectElementById("userEditMode").innerHTML = "New", Mishusoft.detectElementById("user-data-btn").innerHTML = "Save", Mishusoft.detectElementById("user-reset-btn").innerHTML = "Reset"), $(document).on("click", "#verfyUSER", function () {
    let e = {security_code: 1, id: $(this).attr("data-userID"), code: $(this).attr("data-userCode")},
        t = new XMLHttpRequest;
    t.open("POST", _root_ + "system/users/verifyUser", !0), t.setRequestHeader("Content-type", "application/json;charset=UTF-8"), t.send(JSON.stringify(e)), t.onreadystatechange = function () {
        4 === this.readyState && 200 === this.status && Mishusoft.showMessage(this.responseText, Mishusoft.detectElementById("message"))
    }
}), $(document).on("keyup", "#userEmail", function () {
    let e = _root_ + "user/checkValidEmailAddress", t = Mishusoft.detectElementById("userEmail"),
        s = Mishusoft.detectElementById("message2");
    return Mishusoft.checkValidEmailAddress(e, t, s)
}), $("#userEditPAD").on("keyup", "#userUsername", function () {
    let e = _root_ + "user/checkValidUsername", t = Mishusoft.detectElementById("userUsername"),
        s = Mishusoft.detectElementById("message2");
    return Mishusoft.checkValidUsername(e, t, s)
}), $(document).on("click", "#user-data-btn", AIapp.saveUser), $(document).on("click", "#user-reset-btn", function () {
    Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("userID").value = "", Mishusoft.detectElementById("userFName").value = "", Mishusoft.detectElementById("userLName").value = "", Mishusoft.detectElementById("userEmail").value = "", Mishusoft.detectElementById("userPassword").value = "", Mishusoft.detectElementById("userUsername").value = "", Mishusoft.detectElementById("userActivity").value = "", Mishusoft.detectElementById("userRole").value = ""
}), $(document).on("click", "#user-add-btn", function () {
    Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("userEditMode").innerHTML = "New", Mishusoft.detectElementById("user-data-btn").innerHTML = "Save", Mishusoft.detectElementById("userID").value = "", Mishusoft.detectElementById("userFName").value = "", Mishusoft.detectElementById("userLName").value = "", Mishusoft.detectElementById("userEmail").value = "", Mishusoft.detectElementById("userPassword").value = "", Mishusoft.detectElementById("userUsername").value = "", Mishusoft.detectElementById("userActivity").value = "", Mishusoft.detectElementById("userRole").value = "", Mishusoft.detectElementById("userDateOfBirth").value = "", Mishusoft.detectElementById("userGender").value = "", Mishusoft.detectElementById("userProfession").value = "", Mishusoft.detectElementById("profile_picture").src = _root_ + "public/images/img_avatar3.png"
}), $(document).on("click", "#user-select", function () {
    this.checked && (Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("userEditMode").innerHTML = "Edit", Mishusoft.detectElementById("user-data-btn").innerHTML = "Update", Mishusoft.detectElementById("userID").value = $(this).attr("data-userID"), Mishusoft.detectElementById("userFName").value = $(this).attr("data-userFName"), Mishusoft.detectElementById("userLName").value = $(this).attr("data-userLName"), Mishusoft.detectElementById("userEmail").value = $(this).attr("data-userEmail"), Mishusoft.detectElementById("userPassword").value = $(this).attr("data-userPassword"), Mishusoft.detectElementById("userUsername").value = $(this).attr("data-userUsername"), Mishusoft.detectElementById("userActivity").value = $(this).attr("data-userActivity"), Mishusoft.detectElementById("userRole").value = $(this).attr("data-userRole"), Mishusoft.detectElementById("userGender").value = $(this).attr("data-gender"), Mishusoft.detectElementById("userDateOfBirth").value = $(this).attr("data-dob"), Mishusoft.detectElementById("userProfession").value = $(this).attr("data-profession"))
}), $(document).on("click", "#user-edit-btn", function () {
    Mishusoft.detectElementById("message2").innerHTML = "", Mishusoft.detectElementById("modal01").style.display = "block", Mishusoft.detectElementById("userEditMode").innerHTML = "Edit", Mishusoft.detectElementById("user-data-btn").innerHTML = "Update", Mishusoft.detectElementById("userID").value = $(this).attr("data-userID"), Mishusoft.detectElementById("userFName").value = $(this).attr("data-userFName"), Mishusoft.detectElementById("userLName").value = $(this).attr("data-userLName"), Mishusoft.detectElementById("userEmail").value = $(this).attr("data-userEmail"), Mishusoft.detectElementById("userPassword").value = $(this).attr("data-userPassword"), Mishusoft.detectElementById("userUsername").value = $(this).attr("data-userUsername"), Mishusoft.detectElementById("userActivity").value = $(this).attr("data-userActivity"), Mishusoft.detectElementById("userRole").value = $(this).attr("data-userRole"), Mishusoft.detectElementById("userGender").value = $(this).attr("data-gender"), Mishusoft.detectElementById("userDateOfBirth").value = $(this).attr("data-dob"), Mishusoft.detectElementById("userProfession").value = $(this).attr("data-profession"), "" !== $(this).attr("data-profile_picture") ? Mishusoft.detectElementById("profile_picture").src = _root_ + "system/users/viewUserCurrentProfilePicture/" + $(this).attr("data-userID") + "/" + $(this).attr("data-profile_picture") : Mishusoft.detectElementById("profile_picture").src = _root_ + "public/images/img_avatar3.png"
}), $(document).on("click", "#user-delete-btn", AIapp.deleteUser), $(document).on("click", "#user-picture-change-btn", function () {
    Mishusoft.detectElementById("userDetailsID").value = $(this).attr("data-user"), Mishusoft.detectElementById("profile_picture_preview").src = $(this).attr("src"), AIapp.UploadWindowView("Change profile picture")
}), $(document).on("change", "#imageFile", function () {
    let e = Mishusoft.detectElementById("imageFile").files[0], t = e.size / 1024 / 1024;
    Mishusoft.detectElementById("UploadStatusBoard").style.display = "block", Mishusoft.detectElementById("progressbar").style.display = "none", Mishusoft.detectElementById("upload_status").innerHTML = "File: " + e.name + " (" + t.toFixed(2) + " Mb)", Mishusoft.previewImage("imageFile", "profile_picture_preview")
}), $(document).on("click", "#uploadImageFile", function () {
    let e = Mishusoft.detectElementById("userDetailsID").value;
    Mishusoft.uploadFile("imageFile", "imageFile", "system/users/uploadUserProfilePicture/" + e)
}), $(document).on("click", "#user-picture-data-btn", function () {
    Mishusoft.detectElementById("modal02").style.display = "none"
}), $(document).on("click", "#start-pay", function () {
    Mishusoft.detectElementById("payment-welcome").style.display = "none", Mishusoft.detectElementById("payment-appid-email").style.display = "block"
}), $(document).on("click", "#user-select-done", function () {
    let e, t;
    if (this.textContent = "Processing...", Mishusoft.detectElementById("app-loader").style.display = "block", Mishusoft.detectElementById("messagePanel").textContent = "", Mishusoft.detectElementById("messagePanel").style.display = "block", "" === Mishusoft.detectElementById("app-id").value ? (Mishusoft.detectElementById("messagePanel").classList = "messagePanel ev_error", Mishusoft.detectElementById("messagePanel").innerHTML += "Enter your application id.<br/>", this.textContent = "NEXT") : e = "OK", "" === Mishusoft.detectElementById("email-address").value ? (Mishusoft.detectElementById("messagePanel").classList = "messagePanel ev_error", Mishusoft.detectElementById("messagePanel").innerHTML += "Enter your email address (valid for more than 14 characters).<br/>", this.textContent = "NEXT") : -1 === Mishusoft.detectElementById("email-address").value.indexOf("@") || -1 === Mishusoft.detectElementById("email-address").value.indexOf(".") || Mishusoft.detectElementById("email-address").value.length <= 14 ? (Mishusoft.detectElementById("messagePanel").classList = "messagePanel ev_error", Mishusoft.detectElementById("messagePanel").innerHTML += "Enter valid email address.<br/>", this.textContent = "NEXT") : t = "OK", "OK" === e && "OK" === t) {
        let e = new BrowserJS(navigator), t = {
            security_code: 1,
            appId: Mishusoft.detectElementById("app-id").value,
            browserName: e.BrowserNameFull,
            userEmail: Mishusoft.detectElementById("email-address").value,
            planType: Mishusoft.detectElementById("client-plan-type").value,
            plan: Mishusoft.detectElementById("client-plan").value
        }, s = new XMLHttpRequest;
        s.open("POST", _root_ + "payment/verifyClient", !0), s.setRequestHeader("Content-type", "application/json;charset=UTF-8"), s.send(JSON.stringify(t)), s.onreadystatechange = function () {
            4 === this.readyState && 200 === this.status && Mishusoft.showMessage(this.responseText, Mishusoft.detectElementById("messagePanel"), function (e) {
                "error" !== e.type && "success" !== e.type || (Mishusoft.detectElementById("app-loader").style.display = "none", Mishusoft.detectElementById("user-select-done").textContent = "NEXT", "success" === e.type && (Mishusoft.detectElementById("payment-appid-email").style.display = "none", window.location.replace(_root_ + "payment/paynow/" + e.appIdEncrypt + "/" + e.emailEncrypt + "/" + e.paymentPlanTypeEncrypt + "/" + e.paymentPlanEncrypt + "/")))
            })
        }
    }
});