"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[529],{529:function(e,t,n){n.r(t),n.d(t,{Payment:function(){return a}});var a=function(){function e(e){this.appHost=e}return e.prototype.handlePaymentSystem=function(){var e=this;n.e(978).then(n.bind(n,411)).then((function(t){var a,l=t.captureElement;void 0!==l("#payment-welcome")&&["click","dblclick","touchstart"].forEach((function(e){var t;null===(t=l("#start-pay"))||void 0===t||t.addEventListener(e,(function(){l("#payment-welcome").style.display="none",l("#payment-categories").removeAttribute("style")}),{passive:!0})})),void 0!==l("#payment-categories")&&["click","dblclick","touchstart"].forEach((function(e){var t;null===(t=l("#services-payment"))||void 0===t||t.addEventListener(e,(function(){l("#payment-categories").style.display="none",l("#payment-appid-email").style.display="block"}),{passive:!0})})),void 0!==l("#payment-appid-email")&&(["click","dblclick","touchstart"].forEach((function(e){var t;null===(t=l("#user-select-back"))||void 0===t||t.addEventListener(e,(function(){l("#payment-appid-email").style.display="none",l("#payment-categories").removeAttribute("style")}),{passive:!0})})),null===(a=l("#payment-appid-email"))||void 0===a||a.addEventListener("submit",(function(t){t.preventDefault();var a,s=l("#messagePanel");if(s.className="messageZone",null===s.firstElementChild){var i=document.createElement("div");s.appendChild(i)}s.firstElementChild.textContent="",0===l("#app-id").value.length&&(s.firstElementChild.className="box-message box-danger box-shadow-light",s.style.display="block",s.firstElementChild.innerHTML+="Error : Please enter your app id to continue.<br/>"),n.e(576).then(n.bind(n,576)).then((function(e){""===l("#email-address").value?(s.firstElementChild.className="box-message box-danger box-shadow-light",s.style.display="block",s.firstElementChild.innerHTML+="Error : Enter your email address (valid for more than 14 characters).<br/>",e.increaseHeight()):-1===l("#email-address").value.indexOf("@")||-1===l("#email-address").value.indexOf(".")||l("#email-address").value.length<=14?(s.firstElementChild.className="box-message box-danger box-shadow-light",s.style.display="block",s.firstElementChild.innerHTML+="Error : Enter valid email address.<br/>",e.increaseHeight()):a="OK"})).catch((function(e){console.log(e)})),0===l("#client-plan-type").value.length&&(s.firstElementChild.className="box-message box-danger box-shadow-light",s.style.display="block",s.firstElementChild.innerHTML+="Error : Please select your plan type to continue.<br/>"),0===l("#client-plan").value.length&&(s.firstElementChild.className="box-message box-danger box-shadow-light",s.style.display="block",s.firstElementChild.innerHTML+="Error : Please select your plan to continue.<br/>"),s.firstElementChild.classList.add("box-runtime"),l("#user-select-done").setAttribute("disabled","disabled"),l("#email-address").setAttribute("disabled","disabled"),l("#app-id").setAttribute("disabled","disabled"),l("#client-plan").setAttribute("disabled","disabled"),l("#client-plan-type").setAttribute("disabled","disabled"),l("#user-select-back").setAttribute("disabled","disabled"),s.style="display:block;",s.firstElementChild.textContent="Please wait......",setTimeout((function(){l("#messagePanel").textContent=""}),3e3),"OK"===a&&Promise.resolve().then(n.bind(n,922)).then((function(t){return t.sendRequest({method:"POST",url:e.appHost+"payment/verifyClient",async:!0,header:[{name:"Content-type",value:"application/json;charset=UTF-8"}],data:{security_code:1,userEmail:l("#email-address").value,appId:l("#app-id").value,plan:l("#client-plan").value,planType:l("#client-plan-type").value,btnName:l("#user-select-done").textContent}},(function(t){Promise.resolve().then(n.bind(n,40)).then((function(n){n.IsJsonString(t)&&"success"===JSON.parse(t).type?(l("#user-select-done").textContent="Redirecting...",setTimeout((function(){window.location.replace(e.appHost+"payment/paynow/"+JSON.parse(t).appIdEncrypt+"/"+JSON.parse(t).emailEncrypt+"/"+JSON.parse(t).paymentPlanTypeEncrypt+"/"+JSON.parse(t).paymentPlanEncrypt+"/")}),2e3)):(l("#email-address").removeAttribute("disabled"),l("#app-id").removeAttribute("disabled"),l("#client-plan").removeAttribute("disabled"),l("#client-plan-type").removeAttribute("disabled"),l("#user-select-done").removeAttribute("disabled"),l("#user-select-back").removeAttribute("disabled"))})).catch((function(e){console.log(e)})),Promise.resolve().then(n.bind(n,261)).then((function(e){e.showMessage(t,l("#messagePanel"))})).catch((function(e){console.log(e)}))}))})).catch((function(e){console.log(e)}))})))})).catch((function(e){console.log(e)}))},e}()}}]);